
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="assets/plugins/qrCode.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" href="css/estilos.css" />
    <script src="https://cdn.rawgit.com/LazarSoft/jsqrcode/master/src/qr_packed.js"></script>
  </head>
  <body>
    <div class="contenedorhome" id="inicio" style="display: block;">
      <div class="contenedorcamaraybotones">
        <div class="col-sm-4 shadow p-3">
          <div class="camaraqr" style="display: block;">
            <div>
              <div class="row5">
                <div class="header">
                  <h2 class="titulo">Caseta de Seguridad</h2>
                  <p>Escanear codigo QR</p>
                </div>
              </div>
            </div>
            <a id="btn-scan-qr" href="#">
              <img
                src="FraccifyQR.png"
                class="img-fluid text-center"
                width="180px"
              />
            </a>
            <canvas hidden="" id="qr-canvas" class="img-fluid"></canvas>
          </div>

          <div class="botonescamara">
            <button class="btn btn-success btn-sm rounded-3 mb-2" onclick="encenderCamara()">Encender cámara</button>
            <button class="btn btn-danger btn-sm rounded-3" onclick="cerrarCamara()">Detener cámara</button>
            <button id="scan-button" class="btn btn-success btn-sm rounded-3 mb-2" style="display: none;">Start Scanning</button>   
          </div>

          <div style="display: none;">
            <input type="text" id="scanner-input" placeholder="Escanea el código QR aquí" />
          </div>


          <div class="contenedorescalle">
            <div class="row">
              <div class="header">
                <h2 class="titulo">Registros pendientes del día</h2>
              </div>
            </div>
            <details class="calle-box" id="calle-Almendros">
                <summary class="calle-title">Almendros</summary>
                <div class="calle-registros" id="Almendros-registros">
                    <!-- Aquí se mostrarán los registros de la calle Alba -->
                </div>
            </details>
            <details class="calle-box" id="calle-Bugambilias">
                <summary class="calle-title">Bugambilias</summary>
                <div class="calle-registros" id="Bugambilias-registros">
                    <!-- Aquí se mostrarán los registros de la calle Caballeros -->
                </div>
            </details>
            
            <details class="calle-box" id="calle-Laureles">
                <summary class="calle-title">Laureles</summary>
                <div class="calle-registros" id="Laureles-registros">
                    <!-- Aquí se mostrarán los registros de la calle Esmeralda -->
                </div>
            </details>
            
            <details class="calle-box" id="calle-Magnolias">
                <summary class="calle-title">Magnolias</summary>
                <div class="calle-registros" id="Magnolias-registros">
                    <!-- Aquí se mostrarán los registros de la calle Eros -->
                </div>
            </details>
            
            <details class="calle-box" id="calle-Tulipanes">
                <summary class="calle-title">Tulipanes</summary>
                <div class="calle-registros" id="Tulipanes-registros">
                    <!-- Aquí se mostrarán los registros de la calle Hierro -->
                </div>
            </details>
            
            <details class="calle-box" id="calle-Violetas">
                <summary class="calle-title">Violetas</summary>
                <div class="calle-registros" id="Violetas-registros">
                    <!-- Aquí se mostrarán los registros de la calle Ibiza -->
                </div>
            </details>
            

            <details class="calle-boxmorosos" id="calle-morosos">
                <summary class="calle-title">Morosos</summary>
                <div class="calle-registros" id="morosos-registros">
                    <!-- Aquí se mostrarán los registros de los morosos -->
                </div>
            </details>   
                     
          </div>
        </div>
      </div>
    </div>
    <div id="contenedorhomeverde" class="contenedorhomeverde" style="display: none;">
      <div>
        <div>
          <div class="datosverde">
            <h1>Puede pasar</h1>
            <p>Domicilio: <span class="datosvyp" id="dom"></span></p>
            <p>Nombre Visita: <span class="datosvyp" id="nom"></span></p>
            <p>Fecha: <span class="datosvyp" id="fecha"></span></p>
            <p>Tipo: <span class="datosvyp"id="tipo"></span></p>
            <p>ID: <span class="datosvyp"id="idUnico"></span></p>
            <button class="refresh-btn" type="submit">
              Volver a Escanear
            </button>
          </div>
        </div>
      </div>
    </div> 
    <div id="contenedorhomerojo"   class="contenedorhomerojo" style="display: none;">
      <div class="row1">
        <div class="header">
          <div class="datosrojo">
            <h1>QR invalido</h1> 
          </div>
          <div class="refresh">
            <button class="refresh-btn" type="submit">
              Volver a Escanear
            </button>
          </div>
        </div>
      </div>
    </div>
    <div id="qryautilizado"   class="contenedorhomerojo" style="display: none;">
      <div>
        <div>
          <div class="datosrojo">
            <h1 class="sinacceso">Sin Acceso</h1>
            <p1>Código QR ya utilizado para ingresar</p1>
            <p1>  No se puede volver a usar</p1>  
            <button class="refresh-btn" type="submit">
              Volver a Escanear
            </button>
          </div>
        </div>
      </div>
    </div>
    <div id="qrconotrafecha"   class="contenedorhomerojo" style="display: none;">
      <div class="row1">
        <div class="header">
          <div class="datosrojo">
            <h1 class="sinacceso">Sin Acceso</h1>
            <p>La fecha del Código QR no corresponde al día de hoy</p>
            <button class="refresh-btn" type="submit">
              Volver a Escanear
            </button>
          </div>
        </div>
      </div>
    </div>
    <div id="contenedorhomeazul" class="contenedorhomeazul" style="display: none;">
      <div class="row1">
        <div class="header">
          <div class="datosazul">
            <h1>Acceso Dinamico Residente</h1>
            <h4>Puede pasar el residente</h4>
            <p>Domicilio: <span id="domres"></span></p>
            <p>Nombre Residente: <span id="nomres"></span></p>
            <p>ID: <span id="idUnicores"></span></p>  
          </div>
          <button class="refresh-btn" type="submit">
            Volver a Escanear
          </button>
        </div>
        <div class="columna-izquierda4">
          <img src="Fraccify.png" alt="Descripción de la imagen">
          <img src="Palomita-PNG.png" alt="Descripción de la imagen">
        </div>
      </div>
    </div>
    <audio id="audioScaner" src="assets/sonido.mp3"></audio>
    <script src="assets/js/segundacaseta.js"></script>
  </body>
</html>
